---
import { Image } from '@astrojs/image';
const { id, title, description, originalPrice, discountedPrice, images } = Astro.props;
---

<div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-2 animate-on-scroll">
  <div class="image-slider rounded-lg mb-4 h-64 relative">
    <div class="image-container h-full" id={id}>
      {images.map((image, index) => (
        <image 
          src={image}
          alt={`${title} - View ${index + 1}`}
          width={600}
          height={400}
          class="w-full h-full object-cover flex-shrink-0"
          formats={['avif', 'webp']}
          loading={index === 0 ? 'eager' : 'lazy'}
        />
      ))}
    </div>
    <button class="nav-btn prev" onclick={`previousImage('${id}')`}>‹</button>
    <button class="nav-btn next" onclick={`nextImage('${id}')`}>›</button>
  </div>
  <div class="relative">
    <h4 class="font-semibold text-xl mb-2 text-gray-800">{title}</h4>
    <p class="text-gray-600 mb-4">{description}</p>
    <div class="flex justify-between items-center">
      <div>
        <span class="text-sm text-gray-500 line-through">{originalPrice}</span>
        <span class="text-2xl font-bold text-blue-600 ml-2">{discountedPrice}</span>
      </div>
      <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105">Book Now</button>
    </div>
  </div>
</div>